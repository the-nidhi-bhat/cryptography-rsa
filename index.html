<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA & Hill Cipher ‚Äì World Mathematics Day 2025</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="app-shell">
        <div class="navbar">
            <div class="navbar-title">RSA & Hill Cipher üîê</div>
            <div class="navbar-right">
                <button class="eli5-toggle" onclick="toggleELI5()">üë∂ ELI5 Mode: <span
                        id="eli5-status">OFF</span></button>
                <div class="navbar-badge">World Mathematics Day 2025</div>
            </div>
        </div>

        <div class="container">
            <div class="main-left">
                <h1>See Cryptography, Not Just Read It</h1>
                <p class="subtitle">From primes and modular arithmetic to matrix encryption.</p>

                <div class="intro-box">
                    <div class="intro-title">The Problem</div>
                    <div class="intro-text" id="intro-text-normal">
                        How can two people talk secretly without sharing a password first?
                        RSA solves this using prime numbers and modular arithmetic.
                    </div>
                    <div class="intro-text" id="intro-text-eli5" style="display:none;">
                        Imagine you want to send a secret message. RSA is like a magic lock that anyone can close, but
                        only your friend has the special key to open it!
                    </div>
                </div>

                <!-- Real-world Impact -->
                <div class="impact-box">
                    <div class="intro-title" style="color:#c084fc;">üåç Real-World Impact</div>
                    <div class="impact-stat">
                        <span class="impact-number">$5 Trillion</span>
                        <span>protected in daily online transactions</span>
                    </div>
                    <div class="impact-stat">
                        <span class="impact-number">4.5 Billion</span>
                        <span>internet users rely on RSA every day</span>
                    </div>
                    <div class="impact-stat">
                        <span style="font-size:0.85rem; color:#e5e7eb;">üí° Without RSA: No online banking, shopping, or
                            secure messaging would exist!</span>
                    </div>
                </div>

                <div class="flow-diagram">
                    <div class="flow-item">Message</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-item">Encrypt with Public Key</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-item">Ciphertext</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-item">Decrypt with Private Key</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-item">Original Message</div>
                </div>

                <div class="stats-box" id="stats-display">
                    üìä Session Stats: Keys Generated: <span id="stats-keys">0</span> | Messages Encrypted: <span
                        id="stats-enc">0</span> | Messages Decrypted: <span id="stats-dec">0</span>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2 id="keygen-title-normal">Key Generation (Math Behind the Lock)</h2>
                            <h2 id="keygen-title-eli5" style="display:none;">Make Your Magic Keys</h2>
                            <div class="section-subtitle" id="keygen-sub-normal">Choose primes, build n, find e and d.
                            </div>
                            <div class="section-subtitle" id="keygen-sub-eli5" style="display:none;">Pick two special
                                numbers!</div>
                        </div>
                        <div class="tag">Number Theory</div>
                    </div>

                    <div class="info-box">
                        Blue = explanation, Yellow = keys, Green = success, Red = errors.
                    </div>

                    <div class="grid-2">
                        <div class="input-group">
                            <label>Prime p
                                <div class="tooltip-icon">i
                                    <span id="prime-p-tooltip-normal">p is a prime used to build n. In real RSA, p has
                                        hundreds of digits.</span>
                                    <span id="prime-p-tooltip-eli5" style="display:none;">A special number only you
                                        know!</span>
                                </div>
                            </label>
                            <input type="number" id="prime-p" value="11" min="2">
                        </div>
                        <div class="input-group">
                            <label>Prime q
                                <div class="tooltip-icon">i
                                    <span id="prime-q-tooltip-normal">q is another prime. p and q must be
                                        different.</span>
                                    <span id="prime-q-tooltip-eli5" style="display:none;">Another special number,
                                        different from the first!</span>
                                </div>
                            </label>
                            <input type="number" id="prime-q" value="17" min="2">
                        </div>
                    </div>

                    <div class="status-bar" id="status-bar">
                        <div class="status-pill" id="status-key">Key Generation: ‚è≥ waiting</div>
                        <div class="status-pill" id="status-enc">Encryption: ‚è≥ waiting</div>
                        <div class="status-pill" id="status-dec">Decryption: ‚è≥ waiting</div>
                    </div>

                    <div style="margin-top: 10px; display:flex; gap:8px; flex-wrap:wrap;">
                        <button onclick="generateKeys()">üîë Generate Keys</button>
                        <button class="btn-ghost" onclick="tryExample()">‚≠ê Try Example (11, 17, 7)</button>
                        <button class="btn-ghost" onclick="randomizePrimes()">üé≤ Randomize Primes</button>
                    </div>

                    <div id="key-output"></div>

                    <div id="grid-visualizer-container" style="margin-top: 12px; display: none;">
                        <div class="info-box">
                            üé® Visual: n as a grid of dots (p rows √ó q columns)
                        </div>
                        <div id="grid-visualizer" class="grid-visualizer"></div>
                    </div>

                    <div id="practice-mode" style="margin-top: 12px; display: none;">
                        <div class="info-box">
                            üßÆ Practice Mode: Calculate the values yourself!
                        </div>
                        <div style="margin: 8px 0;">
                            œÜ(n) = <input type="number" class="practice-input" id="practice-phi" placeholder="?">
                            <button class="btn-ghost" style="padding: 4px 12px; font-size: 0.8rem;"
                                onclick="checkPractice('phi')">Check</button>
                            <span id="phi-feedback"></span>
                            <button class="btn-ghost" style="padding: 4px 8px; font-size: 0.75rem; margin-left: 4px;"
                                onclick="showHint('phi', 1)">üí° Hint</button>
                        </div>
                        <div id="hint-phi-1" class="hint-box">Hint 1: œÜ(n) uses both prime numbers p and q</div>
                        <div id="hint-phi-2" class="hint-box">Hint 2: Formula is (p-1) √ó (q-1)</div>
                        <div id="hint-phi-3" class="hint-box">Hint 3: œÜ(n) = (<span id="hint-p">?</span>-1) √ó (<span
                                id="hint-q">?</span>-1) = ?</div>

                        <div style="margin: 8px 0;">
                            d = <input type="number" class="practice-input" id="practice-d" placeholder="?">
                            <button class="btn-ghost" style="padding: 4px 12px; font-size: 0.8rem;"
                                onclick="checkPractice('d')">Check</button>
                            <span id="d-feedback"></span>
                            <button class="btn-ghost" style="padding: 4px 8px; font-size: 0.75rem; margin-left: 4px;"
                                onclick="showHint('d', 1)">üí° Hint</button>
                        </div>
                        <div id="hint-d-1" class="hint-box">Hint 1: d is the modular inverse of e</div>
                        <div id="hint-d-2" class="hint-box">Hint 2: (e √ó d) mod œÜ(n) must equal 1</div>
                        <div id="hint-d-3" class="hint-box">Hint 3: Try small values and check if (<span
                                id="hint-e">?</span> √ó d) mod <span id="hint-phi">?</span> = 1</div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2>üî® Brute Force Attack Simulator</h2>
                            <div class="section-subtitle">See why key size matters for security</div>
                        </div>
                        <div class="tag">Security</div>
                    </div>

                    <div class="info-box">
                        Watch a computer try to crack your keys by factoring n!
                    </div>

                    <div class="comparison-manual">
                        <strong style="color:#fde68a;">‚è±Ô∏è Manual vs Computer Factoring</strong>
                        <div style="margin-top: 6px; font-size: 0.8rem;">
                            <div>üë§ <strong>Human (manual):</strong> ~10 mins for n=187 (11√ó17)</div>
                            <div>üíª <strong>Computer:</strong> 0.001 seconds for n=187</div>
                            <div>üñ•Ô∏è <strong>Supercomputer:</strong> 1 billion+ years for 2048-bit RSA!</div>
                        </div>
                    </div>

                    <button class="btn-danger" onclick="launchAttack()">üî® Launch Attack on Current Keys</button>

                    <div id="attack-output" style="margin-top: 10px;"></div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2>üìä Key Size Comparison</h2>
                            <div class="section-subtitle">Real-world security levels</div>
                        </div>
                    </div>

                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Key Size (bits)</th>
                                <th>Example n</th>
                                <th>Time to Crack</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>8-bit</td>
                                <td>187 (11√ó17)</td>
                                <td>0.001 seconds</td>
                                <td>‚ùå Unsafe</td>
                            </tr>
                            <tr>
                                <td>16-bit</td>
                                <td>4,087 (61√ó67)</td>
                                <td>2 seconds</td>
                                <td>‚ùå Unsafe</td>
                            </tr>
                            <tr>
                                <td>32-bit</td>
                                <td>~4 billion</td>
                                <td>1 hour</td>
                                <td>‚ö†Ô∏è Weak</td>
                            </tr>
                            <tr>
                                <td>1024-bit</td>
                                <td>~10^308</td>
                                <td>100+ years</td>
                                <td>‚ö†Ô∏è Outdated</td>
                            </tr>
                            <tr style="background: rgba(34,197,94,0.05);">
                                <td><strong>2048-bit</strong></td>
                                <td>~10^617</td>
                                <td><strong>1 billion+ years</strong></td>
                                <td><strong>‚úÖ Secure</strong></td>
                            </tr>
                            <tr>
                                <td>4096-bit</td>
                                <td>~10^1233</td>
                                <td>Beyond universe lifetime</td>
                                <td>‚úÖ Very Secure</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2>Encryption (Locking the Message)</h2>
                            <div class="section-subtitle">Use public key (e, n) to hide the message.</div>
                        </div>
                        <div class="tag">Public Key</div>
                    </div>

                    <div class="tab-container">
                        <button class="tab-btn active" onclick="switchTab('number')">Number Mode</button>
                        <button class="tab-btn" onclick="switchTab('text')">Text Mode</button>
                    </div>

                    <div id="tab-number" class="tab-content active">
                        <div class="info-box">
                            Encrypt using c = m<sup>e</sup> mod n.
                        </div>

                        <div class="input-group">
                            <label>Message (number)</label>
                            <input type="number" id="message" value="7" min="0">
                        </div>

                        <div style="display:flex; align-items:center; gap:8px;">
                            <button onclick="encryptMessage()">
                                üîê Encrypt
                                <span class="lock-icon" id="lock-icon">üîí</span>
                            </button>
                            <button class="btn-ghost" onclick="showEncryptStepsSlowly()">
                                üëÄ Show steps slowly
                            </button>
                        </div>
                    </div>

                    <div id="tab-text" class="tab-content">
                        <div class="info-box">
                            Type text - we'll convert each letter to a number (ASCII) and encrypt!
                        </div>

                        <div class="input-group">
                            <label>Your text message</label>
                            <textarea id="text-message" placeholder="Type your secret message...">HI</textarea>
                        </div>

                        <div style="display:flex; align-items:center; gap:8px;">
                            <button onclick="encryptText()">üîê Encrypt Text</button>
                        </div>
                    </div>

                    <div id="encrypt-output"></div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2>Decryption (Unlocking the Message)</h2>
                            <div class="section-subtitle">Use private key (d, n) to recover m.</div>
                        </div>
                        <div class="tag">Private Key</div>
                    </div>

                    <div class="info-box">
                        Decrypt using m = c<sup>d</sup> mod n. Only the holder of d can unlock the message.
                    </div>

                    <div style="display:flex; align-items:center; gap:8px;">
                        <button onclick="decryptMessage()">üîì Decrypt</button>
                        <button class="btn-ghost" onclick="showDecryptStepsSlowly()">
                            üëÄ Show steps slowly
                        </button>
                    </div>

                    <div id="decrypt-output"></div>
                </div>

                <!-- Hill Cipher Section -->
                <div class="section" id="hill-section">
                    <div class="section-header">
                        <div>
                            <h2>üî¢ Hill Cipher (2√ó2 Matrix)</h2>
                            <div class="section-subtitle">Matrix-based encryption using linear algebra mod 26</div>
                        </div>
                        <div class="tag">Linear Algebra</div>
                    </div>

                    <div class="info-box">
                        üí° Tip: Try the example key [[3,3],[2,5]] and encrypt "HELP" to see the classic output!
                    </div>

                    <!-- NEW: Alphabet mapping box -->
                    <div class="info-box" style="margin-top:6px; font-size:0.78rem;">
                        üî° Alphabet to number mapping (mod 26):<br>
                        A=0, B=1, C=2, ‚Ä¶, Z=25
                    </div>

                    <div class="grid-2">
                        <div>
                            <h3>Key Matrix K</h3>
                            <div class="hill-matrix">
                                <input class="hill-cell" id="hill-a" type="number" value="3">
                                <input class="hill-cell" id="hill-b" type="number" value="3">
                                <input class="hill-cell" id="hill-c" type="number" value="2">
                                <input class="hill-cell" id="hill-d" type="number" value="5">
                            </div>

                            <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;">
                                <button class="btn-ghost" onclick="hillUseExample()">‚≠ê Use Example Key</button>
                                <button class="btn-ghost" onclick="hillCheckKey()">‚úÖ Validate Key</button>
                            </div>

                            <div id="hill-key-status" style="margin-top:10px;"></div>
                        </div>

                        <div>
                            <h3>Message</h3>
                            <div class="input-group">
                                <label>Plaintext (letters A-Z only)</label>
                                <input type="text" id="hill-plain" value="HELP" placeholder="e.g., HELP">
                            </div>

                            <div style="display:flex; gap:8px; flex-wrap:wrap;">
                                <button onclick="hillEncrypt()">üîê Encrypt</button>
                                <button class="btn-ghost" onclick="hillDecrypt()">üîì Decrypt</button>
                            </div>

                            <div class="input-group" style="margin-top:10px;">
                                <label>Ciphertext</label>
                                <input type="text" id="hill-cipher" placeholder="Encrypted text appears here" readonly>
                            </div>
                        </div>
                    </div>

                    <div id="hill-output"></div>

                    <!-- NEW: Worked example card -->
                    <div class="side-box" style="margin-top:10px;">
                        <div class="side-title">üß† Example: "HE" with K = [[3,3],[2,5]]</div>
                        <p style="font-size:0.8rem; color:#d1d5db; margin-top:4px;">
                            Letter to vector: H = 7, E = 4 ‚Üí P = [7, 4]^T
                        </p>
                        <p style="font-size:0.8rem; color:#d1d5db; margin-top:4px;">
                            K ¬∑ P = [[3,3],[2,5]] ¬∑ [7,4]^T = [33, 34]^T
                        </p>
                        <p style="font-size:0.8rem; color:#d1d5db; margin-top:4px;">
                            Reduce mod 26: [33, 34] ‚â° [7, 8] (mod 26) ‚Üí 7‚ÜíH, 8‚ÜíI ‚Üí Cipher block = "HI"
                        </p>
                    </div>
                </div>
            </div>

            <div class="main-right">
                <!-- Did You Know rotating facts -->
                <div class="did-you-know" id="did-you-know-box">
                    <div class="did-you-know-title">üí° Did You Know?</div>
                    <div id="fact-text">RSA was invented in 1977 at MIT by Ron Rivest, Adi Shamir, and Leonard Adleman.
                    </div>
                </div>

                <!-- Mathematical Formula Reference Card -->
                <div class="side-box">
                    <div class="side-title">üìê Mathematical Formulas</div>
                    <div class="formula-card">
                        <div class="formula-name">Modulus (n)</div>
                        <div class="formula-expr">n = p √ó q</div>
                    </div>
                    <div class="formula-card">
                        <div class="formula-name">Euler's Totient œÜ(n)</div>
                        <div class="formula-expr">œÜ(n) = (p-1)(q-1)</div>
                    </div>
                    <div class="formula-card">
                        <div class="formula-name">Public Exponent (e)</div>
                        <div class="formula-expr">gcd(e, œÜ(n)) = 1</div>
                    </div>
                    <div class="formula-card">
                        <div class="formula-name">Private Exponent (d)</div>
                        <div class="formula-expr">(e √ó d) mod œÜ(n) = 1</div>
                    </div>
                    <div class="formula-card">
                        <div class="formula-name">Encryption</div>
                        <div class="formula-expr">c ‚â° m^e (mod n)</div>
                    </div>
                    <div class="formula-card">
                        <div class="formula-name">Decryption</div>
                        <div class="formula-expr">m ‚â° c^d (mod n)</div>
                    </div>
                </div>

                <div class="side-box">
                    <div class="side-title">üìà Learning Progress</div>
                    <div class="progress-tracker">
                        <div class="progress-item">
                            <span class="progress-icon" id="progress-keys">‚è≥</span>
                            <span id="progress-keys-text">Generate Keys</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-icon" id="progress-encrypt">‚è≥</span>
                            <span id="progress-encrypt-text">Encrypt Message</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-icon" id="progress-decrypt">‚è≥</span>
                            <span id="progress-decrypt-text">Decrypt Message</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-icon" id="progress-attack">üîí</span>
                            <span id="progress-attack-text">Try Attack (locked)</span>
                        </div>
                    </div>
                </div>

                <div class="side-box">
                    <div class="side-title">RSA Cheat Sheet</div>
                    <div class="cheat-row">
                        <div class="cheat-label">n</div>
                        <div class="cheat-value">p √ó q</div>
                    </div>
                    <div class="cheat-row">
                        <div class="cheat-label">œÜ(n)</div>
                        <div class="cheat-value">(p‚àí1)(q‚àí1)</div>
                    </div>
                    <div class="cheat-row">
                        <div class="cheat-label">Public Key</div>
                        <div class="cheat-value">(e, n)</div>
                    </div>
                    <div class="cheat-row">
                        <div class="cheat-label">Private Key</div>
                        <div class="cheat-value">(d, n)</div>
                    </div>
                    <div class="cheat-row">
                        <div class="cheat-label">Encrypt</div>
                        <div class="cheat-value">c = m^e mod n</div>
                    </div>
                    <div class="cheat-row">
                        <div class="cheat-label">Decrypt</div>
                        <div class="cheat-value">m = c^d mod n</div>
                    </div>
                </div>

                <div class="side-box">
                    <div class="side-title">In Real Life</div>
                    <ul class="bullet-list">
                        <li>Online banking ‚Äì protect passwords and transactions.</li>
                        <li>HTTPS padlock ‚Äì secure websites and APIs.</li>
                        <li>Secure messaging ‚Äì only the receiver can read the text.</li>
                        <li>Hill Cipher ‚Äì historical military communications (WW2 era).</li>
                    </ul>
                </div>

                <div class="side-box">
                    <div class="side-title">Quick Actions</div>
                    <button class="btn-ghost" style="width: 100%; margin-bottom: 6px;" onclick="togglePracticeMode()">
                        üßÆ Toggle Practice Mode
                    </button>
                    <button class="btn-ghost" style="width: 100%; margin-bottom: 6px;" onclick="exportKeys()">
                        üíæ Export Keys
                    </button>
                    <button class="btn-ghost" style="width: 100%;" onclick="resetStats()">
                        üîÑ Reset Stats
                    </button>
                </div>

                <div class="credits-section">
                    <div style="color:#9ca3af; font-size:0.7rem; margin-bottom:4px;">RSA Algorithm Invented By</div>
                    <div class="credits-names">Ron Rivest</div>
                    <div class="credits-names">Adi Shamir</div>
                    <div class="credits-names">Leonard Adleman</div>
                    <div style="color:#9ca3af; font-size:0.7rem; margin-top:4px;">MIT, 1977</div>
                </div>

                <div class="side-box">
                    <div class="side-title">Factoring Challenge</div>
                    <p style="font-size:0.8rem; color:#d1d5db;">
                        You know n = <span id="n-challenge">187</span>. Can you find p and q?
                    </p>
                    <p style="margin-top:6px; font-size:0.78rem; color:#9ca3af;">
                        Try dividing by small primes: 2, 3, 5, 7, 11, 13, 17, 19, 23...
                    </p>
                    <p style="margin-top:8px; font-size:0.78rem; color:#fbbf24; font-style:italic;">
                        In real RSA, n has 600+ digits. Even supercomputers can't factor it in a lifetime.
                    </p>
                </div>
            </div>
        </div>

        <div class="footer">
            Made by <span>Nidhi</span>, 1st year CSBS | Topic: <span>Number Theory & Linear Algebra in
                Cryptography</span>
        </div>
    </div>

    <script src="index.js"></script>
</body>

</html>